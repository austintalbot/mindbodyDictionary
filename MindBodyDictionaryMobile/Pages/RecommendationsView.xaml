<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:pages="clr-namespace:MindBodyDictionaryMobile.Pages"
             xmlns:vm="clr-namespace:MindBodyDictionaryMobile.PageModels"
             xmlns:converter="clr-namespace:MindBodyDictionaryMobile.Converter"
             xmlns:fonts="clr-namespace:Fonts;assembly=MindBodyDictionaryMobile"
             x:Class="MindBodyDictionaryMobile.Pages.RecommendationsView">

    <ContentView.Resources>
        <ResourceDictionary>
            <converter:SelectedTabColorConverter x:Key="SelectedTabColorConverter" />
            <converter:SelectedTabBackgroundColorConverter x:Key="SelectedTabBackgroundColorConverter" />
        </ResourceDictionary>
    </ContentView.Resources>

    <ScrollView Style="{StaticResource ContentScrollView}">
        <VerticalStackLayout Style="{StaticResource MainContentStack}">
            <Image Style="{StaticResource AppLogoImage}"
                   x:Name="FoodAffirmationsMindBodyLogo" />

            <VerticalStackLayout Style="{StaticResource HeaderSection}">
                <Label x:Name="RecommendationTitleLabel"
                       Style="{StaticResource SubtitleLabel}"
                       Text="Recommendations for" />

                <Label x:Name="RecommendationConditionLabel"
                       Style="{StaticResource SectionTitleLabel}"
                       Text="{Binding Condition.Name}" />
            </VerticalStackLayout>

            <Border Style="{StaticResource ConditionCardWithShadow}"
                    Margin="0,10,0,0">
                <VerticalStackLayout>
                    <!-- Inner Tab Headers -->
                    <HorizontalStackLayout HorizontalOptions="FillAndExpand" BackgroundColor="{StaticResource BarColor}">
                                                <Button Text="Foods"
                                                        Command="{Binding SelectInnerTabCommand}"
                                                        CommandParameter="Foods"
                                                        Style="{StaticResource TabButton}"
                                                        TextColor="{Binding SelectedInnerTab, ConverterParameter=Foods, Converter={StaticResource SelectedTabColorConverter}}"
                                                        BackgroundColor="{Binding SelectedInnerTab, ConverterParameter=Foods, Converter={StaticResource SelectedTabBackgroundColorConverter}}"/>
                                                <Button Text="Products"
                                                        Command="{Binding SelectInnerTabCommand}"
                                                        CommandParameter="Products"
                                                        Style="{StaticResource TabButton}"
                                                        TextColor="{Binding SelectedInnerTab, ConverterParameter=Products, Converter={StaticResource SelectedTabColorConverter}}"
                                                        BackgroundColor="{Binding SelectedInnerTab, ConverterParameter=Products, Converter={StaticResource SelectedTabBackgroundColorConverter}}"/>                        <Button Text="Resources"
                                Command="{Binding SelectInnerTabCommand}"
                                CommandParameter="Resources"
                                Style="{StaticResource TabButton}"
                                TextColor="{Binding SelectedInnerTab, ConverterParameter=Resources, Converter={StaticResource SelectedTabColorConverter}}"
                                BackgroundColor="{Binding SelectedInnerTab, ConverterParameter=Resources, Converter={StaticResource SelectedTabBackgroundColorConverter}}"/>                    </HorizontalStackLayout>

                    <!-- Inner Tab Content -->
                    <ContentView Content="{Binding CurrentInnerView}" />
                </VerticalStackLayout>
            </Border>
        </VerticalStackLayout>
    </ScrollView>
</ContentView>
