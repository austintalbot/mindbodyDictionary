<?xml version="1.0" encoding="utf-8"?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MindBodyDictionaryMobile.Pages.MbdConditionSummaryPage"
             xmlns:vm="clr-namespace:MindBodyDictionaryMobile.PageModels"
             x:DataType="vm:MbdConditionSummaryPageModel"
             xmlns:local="clr-namespace:MindBodyDictionaryMobile"
             xmlns:mi="http://www.aathifmahir.com/dotnet/2022/maui/icons"
             Title="{Binding Title}">
    <Grid Style="{StaticResource MbdConditionSummaryGrid}" RowDefinitions="Auto,Auto,Auto,*,Auto" ColumnDefinitions="*,*,Auto">
        <Border Grid.Column="0"
                Grid.ColumnSpan="3"
                Grid.Row="0"
                Style="{StaticResource MbdConditionImageBorder}">
            <Image x:Name="AilmentImage"
                   Style="{StaticResource MbdConditionSummaryImage}"
                   Source="{Binding CachedImageSource}" />
        </Border>

        <Label Grid.Row="1"
               Grid.Column="0"
               Grid.ColumnSpan="3"
               Style="{StaticResource MindsetLabel}"
               Text="{Binding MindsetText}" />

        <Label Grid.Row="2"
               Grid.ColumnSpan="3"
               Grid.Column="0"
               Style="{StaticResource MbdConditionNameLabel}"
               Text="{Binding InternalCondition.Name}" />

        <ScrollView x:Name="SummaryLabelScroll"
                    Grid.Row="3"
                    Grid.ColumnSpan="3"
                    Grid.Column="0"
                    Style="{StaticResource SummaryScrollView}">
            <VerticalStackLayout>
                <Label Style="{StaticResource SummaryLabel}"
                       Text="{Binding Summary}" />
            </VerticalStackLayout>
        </ScrollView>

        <Label Grid.Column="0"
               Grid.ColumnSpan="3"
               Grid.Row="4"
               Style="{StaticResource CopyrightLabel}"
               Text="{x:Static local:App.CopyrightText}" />

        <Image x:Name="ShareButton"
               Grid.Column="2"
               Grid.Row="4"
               Style="{StaticResource ShareButton}"
               Source="{mi:Material Icon=Share }">
            <Image.GestureRecognizers>
                <TapGestureRecognizer
                    Command="{Binding Source={RelativeSource AncestorType={x:Type vm:MbdConditionSummaryPageModel}}, Path=shareMbdConditionSummaryCommand}"
                    NumberOfTapsRequired="1" />
            </Image.GestureRecognizers>
        </Image>
    </Grid>
</ContentPage>
