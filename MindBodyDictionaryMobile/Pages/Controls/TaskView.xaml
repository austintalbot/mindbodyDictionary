<?xml version="1.0" encoding="utf-8" ?>
<Border
    x:Class="MindBodyDictionaryMobile.Pages.Controls.TaskView"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:effectsView="clr-namespace:Syncfusion.Maui.Toolkit.EffectsView;assembly=Syncfusion.Maui.Toolkit"
    xmlns:models="clr-namespace:MindBodyDictionaryMobile.Models"
    xmlns:pageModels="clr-namespace:MindBodyDictionaryMobile.PageModels"
    xmlns:shimmer="clr-namespace:Syncfusion.Maui.Toolkit.Shimmer;assembly=Syncfusion.Maui.Toolkit"
    x:DataType="models:ProjectTask"
    Style="{StaticResource TaskViewBorderStyle}">

    <effectsView:SfEffectsView Style="{StaticResource TaskViewEffectsViewStyle}">
        <shimmer:SfShimmer
            BackgroundColor="Transparent"
            IsActive="{Binding IsBusy, Source={RelativeSource AncestorType={x:Type pageModels:IProjectTaskPageModel}}, x:DataType=pageModels:IProjectTaskPageModel}"
            VerticalOptions="Fill">
            <shimmer:SfShimmer.CustomView>
                <Grid Style="{StaticResource ShimmerTaskViewGrid}">
                    <BoxView Style="{StaticResource ShimmerTaskViewCheckbox}" />
                    <BoxView Grid.Column="1" Style="{StaticResource ShimmerTaskViewText}" />
                </Grid>
            </shimmer:SfShimmer.CustomView>
            <shimmer:SfShimmer.Content>
                <Grid Style="{StaticResource TaskViewGrid}">
                    <Grid.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding NavigateToTaskCommand, Source={RelativeSource AncestorType={x:Type pageModels:IProjectTaskPageModel}}, x:DataType=pageModels:IProjectTaskPageModel}" CommandParameter="{Binding .}" />
                    </Grid.GestureRecognizers>

                    <CheckBox
                        Grid.Column="0"
                        CheckedChanged="CheckBox_CheckedChanged"
                        IsChecked="{Binding IsCompleted, Mode=OneTime}"
                        SemanticProperties.Description="{Binding Title}"
                        Style="{StaticResource TaskViewCheckBoxStyle}" />

                    <Label
                        Grid.Column="1"
                        AutomationProperties.IsInAccessibleTree="False"
                        Style="{StaticResource TaskViewTitleLabelStyle}"
                        Text="{Binding Title}" />
                </Grid>
            </shimmer:SfShimmer.Content>
        </shimmer:SfShimmer>
    </effectsView:SfEffectsView>
</Border>
