<?xml version="1.0" encoding="utf-8" ?>
<ContentView
    x:Class="MindBodyDictionaryMobile.Pages.MbdConditionDetailsAffirmationsView"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:fonts="clr-namespace:Fonts;assembly=MindBodyDictionaryMobile"
    xmlns:local="clr-namespace:MindBodyDictionaryMobile"
    xmlns:vm="clr-namespace:MindBodyDictionaryMobile.PageModels"
    x:Name="this"
    x:DataType="vm:MbdConditionDetailPageModel">
    <Grid HorizontalOptions="Fill" VerticalOptions="Fill">
        <Grid.RowDefinitions>
            <RowDefinition Height="auto" />
            <RowDefinition Height="280" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
        </Grid.RowDefinitions>
        <!--  Affirmations Header  -->
        <VerticalStackLayout
            Grid.Row="0"
            HorizontalOptions="Fill"
            VerticalOptions="Fill">
            <Image
                x:Name="AffirmationsMindBodyLogo"
                HorizontalOptions="Fill"
                Style="{StaticResource MbdIconImage}" />
            <Label Style="{StaticResource AffirmationsForLabelStyle}" Text="Affirmations for" />
            <Label Style="{StaticResource AffirmationConditionNameLabelStyle}" Text="{Binding Condition.Name}" />
        </VerticalStackLayout>
        <CarouselView
            x:Name="AffirmationCarouselView"
            Grid.Row="1"
            CurrentItem="{Binding CurrentAffirmation}"
            HorizontalOptions="Fill"
            IndicatorView="AffirmationIndicatorView"
            IsBounceEnabled="True"
            ItemsSource="{Binding Condition.Affirmations}"
            VerticalOptions="Fill">
            <CarouselView.ItemTemplate>
                <DataTemplate x:DataType="x:String">
                    <Border Style="{StaticResource AffirmationBorderStyle}"
                            BackgroundColor="White"
                            HorizontalOptions="Center"
                            VerticalOptions="Center"
                            WidthRequest="300"
                            HeightRequest="260"
                            Margin="10">
                        <Label
                            x:Name="AffirmationLabel"
                            Style="{StaticResource AffirmationCarouselLabelStyle}"
                            TextColor="Black"
                            HorizontalOptions="Center"
                            VerticalOptions="Center"
                            HorizontalTextAlignment="Center"
                            VerticalTextAlignment="Center"
                            Text="{Binding .}" />
                    </Border>
                </DataTemplate>
            </CarouselView.ItemTemplate>
        </CarouselView>
        <IndicatorView
            x:Name="AffirmationIndicatorView"
            Grid.Row="2"
            HorizontalOptions="Center"
            IndicatorColor="LightGray"
            IndicatorsShape="Square"
            SelectedIndicatorColor="DarkGray" />
        <HorizontalStackLayout
            Grid.Row="3"
            Margin="10"
            Padding="20"
            HorizontalOptions="CenterAndExpand"
            VerticalOptions="CenterAndExpand">

            <HorizontalStackLayout>
                <HorizontalStackLayout.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding Source={RelativeSource AncestorType={x:Type vm:MbdConditionDetailPageModel}}, Path=ShareCarouselConditionCommand}" CommandParameter="{Binding CurrentAffirmation}" />
                </HorizontalStackLayout.GestureRecognizers>
                <Label Style="{StaticResource ShareAffirmationLabelStyle}" />
                <Image x:Name="ShareAffirmationImageButton" Style="{StaticResource ShareAffirmationImageButtonStyle}" />
            </HorizontalStackLayout>


        </HorizontalStackLayout>

        <Label
            Grid.Row="4"
            Margin="0,0,0,20"
            HorizontalOptions="Center"
            Style="{StaticResource AffirmationCopyrightLabelStyle}"
            Text="{x:Static local:App.CopyrightText}"
            TextColor="{AppThemeBinding Light={StaticResource LabelTextColor},
                                        Dark={StaticResource LabelTextColorDark}}" />
    </Grid>

</ContentView>
