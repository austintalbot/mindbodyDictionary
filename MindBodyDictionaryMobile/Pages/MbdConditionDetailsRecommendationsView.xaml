<?xml version="1.0" encoding="utf-8" ?>
<ContentView
    x:Class="MindBodyDictionaryMobile.Pages.MbdConditionDetailsRecommendationsView"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:converter="clr-namespace:MindBodyDictionaryMobile.Converter"
    xmlns:fonts="clr-namespace:Fonts;assembly=MindBodyDictionaryMobile"
    xmlns:pages="clr-namespace:MindBodyDictionaryMobile.Pages"
    xmlns:vm="clr-namespace:MindBodyDictionaryMobile.PageModels">

    <ContentView.Resources>
        <ResourceDictionary>
            <converter:SelectedTabColorConverter x:Key="SelectedTabColorConverter" />
            <converter:SelectedTabBackgroundColorConverter x:Key="SelectedTabBackgroundColorConverter" />
        </ResourceDictionary>
    </ContentView.Resources>

    <ScrollView Style="{StaticResource ContentScrollView}">
        <VerticalStackLayout Style="{StaticResource MainContentStack}">
            <Image x:Name="FoodAffirmationsMindBodyLogo" Style="{StaticResource AppIconImage}" />

            <VerticalStackLayout Style="{StaticResource HeaderSection}">
                <Label
                    x:Name="RecommendationTitleLabel"
                    Style="{StaticResource SubtitleLabel}"
                    Text="Recommendations for" />

                <Label
                    x:Name="RecommendationConditionLabel"
                    Style="{StaticResource SectionTitleLabel}"
                    Text="{Binding Condition.Name}" />
            </VerticalStackLayout>

            <Border Margin="0,10,0,0" Style="{StaticResource MbdConditionCardWithShadow}">
                <VerticalStackLayout>
                    <!--  Inner Tab Headers  -->
                    <HorizontalStackLayout BackgroundColor="{StaticResource BarColor}" HorizontalOptions="Fill">
                        <Button
                            BackgroundColor="{Binding SelectedInnerTab, ConverterParameter=Foods, Converter={StaticResource SelectedTabBackgroundColorConverter}}"
                            Command="{Binding SelectInnerTabCommand}"
                            CommandParameter="Foods"
                            Style="{StaticResource TabButton}"
                            Text="Foods"
                            TextColor="{Binding SelectedInnerTab, ConverterParameter=Foods, Converter={StaticResource SelectedTabColorConverter}}" />

                        <Button
                            BackgroundColor="{Binding SelectedInnerTab, ConverterParameter=Resources, Converter={StaticResource SelectedTabBackgroundColorConverter}}"
                            Command="{Binding SelectInnerTabCommand}"
                            CommandParameter="Resources"
                            Style="{StaticResource TabButton}"
                            Text="Resources"
                            TextColor="{Binding SelectedInnerTab, ConverterParameter=Resources, Converter={StaticResource SelectedTabColorConverter}}" />
                        <Button
                            BackgroundColor="{Binding SelectedInnerTab, ConverterParameter=Products, Converter={StaticResource SelectedTabBackgroundColorConverter}}"
                            Command="{Binding SelectInnerTabCommand}"
                            CommandParameter="Products"
                            Style="{StaticResource TabButton}"
                            Text="Products"
                            TextColor="{Binding SelectedInnerTab, ConverterParameter=Products, Converter={StaticResource SelectedTabColorConverter}}" />
                    </HorizontalStackLayout>

                    <!--  Inner Tab Content  -->
                    <ContentView Content="{Binding CurrentInnerView}" />
                </VerticalStackLayout>
            </Border>
        </VerticalStackLayout>
    </ScrollView>
</ContentView>
